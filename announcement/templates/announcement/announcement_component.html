<div class="card m-1 bg-light">
    <div class="card-body">
        <p>ประกาศ</p>
        <marquee direction="left" class='announce'>
        </marquee>
    </div>
</div>


<script>
    fetch('/announcement/getAnnounceJSON/')
        .then((response) => {
            return response.json();
        })
        .then((data) => {
            console.log(data)
            var element = document.querySelector('.announce');
            data.forEach(announce => {
                var span = document.createElement("SPAN");
                var label = document.createElement("LABEL");
                if (announce.type == 'Warning') {
                    span.classList.add('badge', 'badge-pill', 'badge-danger', 'mx-1', 'ml-5');
                    span.innerText = announce.type;
                } else {
                    span.classList.add('badge', 'badge-pill', 'badge-primary', 'mx-1', 'ml-5');
                    span.innerText = announce.type;
                }
                label.appendChild(span)
                label.innerHTML += announce.text;
                element.appendChild(label);
            });
        });

</script>